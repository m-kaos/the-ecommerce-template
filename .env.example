# ============================================
# E-COMMERCE TEMPLATE ENVIRONMENT VARIABLES
# ============================================
#
# üìã SETUP INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Update passwords and secrets (marked with ‚ö†Ô∏è)
# 3. Configure Stripe keys for payments
# 4. Never commit .env to version control (.gitignore already configured)
# 5. For production, generate strong random secrets
#
# ============================================

# --------------------------------------------
# Database Configuration (PostgreSQL)
# --------------------------------------------
# Database name for Vendure
# Default: vendure
# Production: Keep as vendure or use your preference
DB_NAME=vendure

# Database hostname
# Default: postgres (Docker container name)
# Production: Your database host (e.g., mydb.railway.app)
DB_HOST=postgres

# PostgreSQL port
# Default: 5432 (standard PostgreSQL port)
# Production: Usually 5432, check your provider
DB_PORT=5432

# Database username
# Default: postgres
# Production: Use a dedicated user with limited privileges
DB_USERNAME=postgres

# Database password
# ‚ö†Ô∏è CHANGE IN PRODUCTION!
# Default: postgres (INSECURE - for development only)
# Production: Use a strong, randomly generated password (32+ characters)
# Generate with: openssl rand -base64 32
DB_PASSWORD=postgres

# --------------------------------------------
# Vendure Backend Configuration
# --------------------------------------------

# Admin Panel Credentials
# ‚ö†Ô∏è CHANGE IN PRODUCTION!
# These are the credentials for the admin dashboard at /admin
# Default: superadmin / superadmin (INSECURE - for development only)
# Production: Use strong username and password
SUPERADMIN_USERNAME=superadmin
SUPERADMIN_PASSWORD=superadmin

# Session Cookie Secret
# ‚ö†Ô∏è CHANGE IN PRODUCTION!
# Used to encrypt session cookies - MUST be secret and random
# Default: cookie-secret-change-in-production (INSECURE - for development only)
# Production: Generate a strong random string (64+ characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
COOKIE_SECRET=cookie-secret-change-in-production

# Storefront URL
# The base URL of your customer-facing store
# Development: http://localhost:3000
# Production: https://yourdomain.com (no trailing slash)
# Used for: Email links, password reset URLs, email verification
SHOP_URL=http://localhost:3000

# --------------------------------------------
# Payment Configuration (Stripe)
# --------------------------------------------

# Stripe Secret Key (Backend)
# ‚ö†Ô∏è REQUIRED FOR PAYMENTS
# Get from: https://dashboard.stripe.com/apikeys
# Development: Use test key (starts with sk_test_...)
# Production: Use live key (starts with sk_live_...)
# ‚ö†Ô∏è NEVER expose this key publicly or commit to git!
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe Publishable Key (Frontend)
# Get from: https://dashboard.stripe.com/apikeys
# Development: Use test key (starts with pk_test_...)
# Production: Use live key (starts with pk_live_...)
# This key is safe to expose publicly
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Test Cards for Development:
# Success: 4242 4242 4242 4242
# Decline: 4000 0000 0000 0002
# 3D Secure: 4000 0025 0000 3155
# Expiry: Any future date | CVC: Any 3 digits | ZIP: Any 5 digits

# --------------------------------------------
# Storefront Configuration
# --------------------------------------------

# Vendure Shop API URL (used by Next.js storefront)
# Development: http://localhost:3001/shop-api
# Production: https://api.yourdomain.com/shop-api (your backend URL)
# Must be accessible from the browser (NEXT_PUBLIC_ prefix makes it public)
NEXT_PUBLIC_VENDURE_SHOP_API_URL=http://localhost:3001/shop-api

# --------------------------------------------
# Email Configuration (Production)
# --------------------------------------------
# For development, emails are saved to backend/static/email/test-emails/
# For production, configure SMTP settings below

# SMTP Server Hostname
# Examples: smtp.sendgrid.net, smtp.mailgun.org, email-smtp.us-east-1.amazonaws.com
# Leave empty for development (uses file-based email)
# SMTP_HOST=smtp.sendgrid.net

# SMTP Port
# Common ports: 587 (TLS), 465 (SSL), 25 (unencrypted - not recommended)
# SMTP_PORT=587

# SMTP Username
# For SendGrid: apikey (literal string)
# For Mailgun: postmaster@your-domain.mailgun.org
# For AWS SES: Your AWS IAM access key
# SMTP_USER=apikey

# SMTP Password
# ‚ö†Ô∏è CHANGE IN PRODUCTION!
# For SendGrid: Your API key (starts with SG.)
# For Mailgun: Your domain SMTP password
# For AWS SES: Your AWS IAM secret key
# SMTP_PASSWORD=your-smtp-password-here

# --------------------------------------------
# Redis Configuration (Session Storage)
# --------------------------------------------
# Redis hostname
# Default: redis (Docker container name)
# Production: Your Redis host (e.g., redis-123.railway.app)
REDIS_HOST=redis

# Redis port
# Default: 6379 (standard Redis port)
REDIS_PORT=6379

# Redis password (if required)
# Development: Usually no password needed
# Production: Use password if your provider requires it
# REDIS_PASSWORD=

# --------------------------------------------
# MinIO Configuration (S3-compatible Asset Storage)
# --------------------------------------------
# MinIO is used for storing product images and files
# Alternative: Use AWS S3, Cloudflare R2, or DigitalOcean Spaces

# MinIO admin credentials
# ‚ö†Ô∏è CHANGE IN PRODUCTION!
# Default: minioadmin / minioadmin (INSECURE - for development only)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# MinIO endpoint
# Default: minio (Docker container name)
# Production: Your MinIO host or S3 endpoint
MINIO_ENDPOINT=minio

# MinIO port
# Default: 9000 (standard MinIO port)
MINIO_PORT=9000

# MinIO bucket name
# Default: vendure-assets
# Production: Create this bucket in your MinIO/S3 console
MINIO_BUCKET=vendure-assets

# --------------------------------------------
# Meilisearch Configuration (Search Engine)
# --------------------------------------------
# Meilisearch provides fast product search functionality

# Meilisearch master key
# ‚ö†Ô∏è CHANGE IN PRODUCTION!
# Default: masterKey (INSECURE - for development only)
# Production: Use a strong random key
# Generate with: openssl rand -base64 32
MEILI_MASTER_KEY=masterKey

# Meilisearch host URL
# Default: http://meilisearch:7700 (Docker container)
# Production: Your Meilisearch host (e.g., https://search.yourdomain.com)
MEILISEARCH_HOST=http://meilisearch:7700

# --------------------------------------------
# Environment Mode
# --------------------------------------------
# Node.js environment mode
# Values: development | production | test
# Development: development (enables debug logging, hot reload)
# Production: production (optimizations enabled, no debug logs)
NODE_ENV=development

# ============================================
# üîê SECURITY CHECKLIST (Before Production)
# ============================================
# [ ] Changed SUPERADMIN_USERNAME and SUPERADMIN_PASSWORD
# [ ] Generated strong COOKIE_SECRET (64+ characters)
# [ ] Updated all database passwords (DB_PASSWORD)
# [ ] Configured Stripe live keys (STRIPE_SECRET_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)
# [ ] Set production SHOP_URL (https://yourdomain.com)
# [ ] Configured SMTP for email delivery
# [ ] Changed MINIO_ROOT_USER and MINIO_ROOT_PASSWORD
# [ ] Generated new MEILI_MASTER_KEY
# [ ] Set NODE_ENV=production
# [ ] Verified .env is in .gitignore (never commit secrets!)
# [ ] Used environment variables in hosting platform (Vercel, Railway, etc.)
#
# üõ†Ô∏è QUICK COMMANDS:
# Generate COOKIE_SECRET: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Generate database password: openssl rand -base64 32
# Test backend connection: curl http://localhost:3001/health
# Test API: curl http://localhost:3001/shop-api
#
# ============================================
